(()=>{let e=document.documentElement.clientWidth;window.innerHeight;let t=gsap.matchMedia(),a=0,n=0;function i(){gsap.utils.toArray("[scrub-wrapper]").forEach(t=>{let i=t.dataset.prefix,d=t.dataset.suffix,s=Number(t.dataset.framecount),m=t.querySelector("canvas");m&&i&&d&&s&&(n+=s,a+=s,function(e,t,a,n,i,d){let s=t.getContext("2d");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;let m=e=>`${a}${d}/${(e+1).toString().padStart(3,"0")}${n}`,h=[],l=0;for(let a=0;a<i;a++){let n=new Image,d=m(a);n.onload=()=>{l++,r(),l===i&&o(e,h,s,t)},n.onerror=()=>{l++,r(),l===i&&o(e,h,s,t)},n.src=d,h.push(n)}}(t,m,i,d,s,e>=768?"desktop":"mobile"))})}function r(){0==--a&&setTimeout(()=>{lenis.resize()},500)}function o(e,t,a,n){let i={frame:0};e.querySelectorAll("[frames-play]").forEach(e=>{let i=Number(e.dataset.start),r=Number(e.dataset.end),o=e.dataset.startPos||"top top",s=e.dataset.endPos||"bottom bottom",m={frame:0};"autoplaySequence"in e.dataset?window.scrollY<=1?gsap.to(m,{frame:r-1,duration:1,ease:"none",onUpdate:()=>d(t,m,a,n)}):(m.frame=r-1,d(t,m,a,n)):gsap.timeline({onUpdate:()=>d(t,m,a,n),scrollTrigger:{trigger:e,pin:!1,scrub:1,start:o,end:s,markers:!1}}).fromTo(m,{frame:i-1},{frame:r-1,snap:"frame",ease:"none",duration:1},0)}),d(t,i,a,n),window.addEventListener("resize",()=>{n.width=document.documentElement.clientWidth,n.height=window.innerHeight,d(t,i,a,n)})}function d(e,t,a,n){let i=e[t.frame];a.clearRect(0,0,n.width,n.height);let r=Math.max(n.width/i.width,n.height/i.height),o=i.width*r,d=i.height*r,s=n.width/2-o/2,m=n.height/2-d/2;a.drawImage(i,s,m,o,d)}t.add("(min-width: 768px)",()=>{i()}),t.add("(max-width: 767px)",()=>{i()})})();
//# sourceMappingURL=scrubImageSequence.js.map
